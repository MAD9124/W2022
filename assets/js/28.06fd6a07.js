(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{503:function(t,e,a){"use strict";a.r(e);var s=a(42),i=Object(s.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",[a("span",{staticClass:"week"},[t._v("Final Project")]),t._v(" "),a("br"),t._v(" "),a("span",{staticClass:"title"},[t._v("GIFTR")])]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("Due before 6:00 pm on Wednesday April 20, 2022.")]),t._v(" "),a("p",[t._v("This is the final deadline. There will be no extensions."),a("br"),t._v("\nCounts for 30% of your MAD9124 final grade.")])]),t._v(" "),a("h2",{attrs:{id:"joint-project"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#joint-project"}},[t._v("#")]),t._v(" Joint Project")]),t._v(" "),a("p",[t._v("The final project will be a two part joint assignment between MAD9124 and MAD9022. You will build a complete full-stack solution. The web service API portion will be graded for MAD9124, and the front-end application functionality, design, and usability will be graded for MAD9022.")]),t._v(" "),a("p",[a("strong",[t._v("Review the "),a("a",{attrs:{href:"https://mad9022.github.io/W2021/assignments/projects/#pwa-with-the-api-built-in-mad9124",target:"_blank",rel:"noopener noreferrer"}},[t._v("MAD9022 - Web Client"),a("OutboundLink")],1),t._v(" project details.")])]),t._v(" "),a("h2",{attrs:{id:"the-brief"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#the-brief"}},[t._v("#")]),t._v(" The Brief")]),t._v(" "),a("p",[t._v("Using Node.js, Express, Mongoose and MongoDB, you will build the RESTful API web service for a prototype of a fictitious application to track gift ideas for your friends. This initial proof of concept (PoC) will have limited capabilities but should demonstrate the potential of a full-scale application.")]),t._v(" "),a("p",[t._v("Each registered user can create a list of people for whom they are collecting gift ideas. The user can then add one or more gift ideas for each person on their list.")]),t._v(" "),a("p",[t._v("The person and their gift ideas can be shared with one or more other registered users. Those users can view and update the gift ideas, but cannot delete the user. Only the owner can delete a Person from their list.")]),t._v(" "),a("p",[t._v("Your PoC will allow authenticated users to perform basic CRUD operations on two primary resources: "),a("strong",[t._v("people")]),t._v(" and "),a("strong",[t._v("gifts")]),t._v(". The "),a("code",[t._v("Person")]),t._v(" model represents the people for whom you are collecting gift ideas and will have an array of embedded "),a("code",[t._v("Gift")]),t._v(" models. It will also have a "),a("em",[t._v("belongsTo")]),t._v(" relationship with the owning "),a("code",[t._v("User")]),t._v("model.")]),t._v(" "),a("p",[t._v('The API will also allow for Person objects to be "shared" with other User(s). This sharing feature may or may not be implemented on the client side.')]),t._v(" "),a("p",[t._v("The PoC will also need to support user registration, authentication and password updates. Since this is at the proof of concept stage, the App will be free, so the registration process does not need to consider credit cards for payments.")]),t._v(" "),a("h2",{attrs:{id:"core-requirements"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#core-requirements"}},[t._v("#")]),t._v(" Core Requirements")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("Implement basic user user management functions")]),t._v(" "),a("ul",[a("li",[t._v("registration")]),t._v(" "),a("li",[t._v("authentication with JWT")]),t._v(" "),a("li",[t._v("change password")]),t._v(" "),a("li",[t._v("get current logged-in user")])])]),t._v(" "),a("li",[a("p",[t._v("Protected API routes require a valid JWT in the "),a("code",[t._v("Authorization")]),t._v(" header.")])]),t._v(" "),a("li",[a("p",[t._v("All HTTP requests must have a header attribute of "),a("code",[t._v("x-api-key")]),t._v(" set with the value being your college username, e.g.")])])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("div",{staticClass:"highlight-lines"},[a("br"),a("br"),a("br"),a("div",{staticClass:"highlighted"},[t._v(" ")]),a("br"),a("br"),a("br"),a("br")]),a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("fetch")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/auth/users/me'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  headers"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// other headers")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'x-api-key'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'mckennr'")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// other fetch options")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("ul",[a("li",[a("p",[t._v("Middleware functions should be employed to avoid repetitive route handler code.")])]),t._v(" "),a("li",[a("p",[t._v("Single resource requests should return any related resources as fully populated embedded documents.")])]),t._v(" "),a("li",[a("p",[t._v("Resource list requests should return an array of the primary resource objects only, without populating any related objects.")])]),t._v(" "),a("li",[a("p",[t._v("All requests containing user/client supplied data should be sanitized to protect against XSS and Query Injection attacks.")])]),t._v(" "),a("li",[a("p",[t._v("All schema validation errors should be caught and returned to the client in the standard JSON:API error format.")])])]),t._v(" "),a("h3",{attrs:{id:"response-payload"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#response-payload"}},[t._v("#")]),t._v(" Response Payload")]),t._v(" "),a("ul",[a("li",[t._v("All responses will be in the form of a JSON formatted object.")]),t._v(" "),a("li",[t._v("This payload object must include one of (but not both at the same time) a "),a("code",[t._v("data")]),t._v(" property or an "),a("code",[t._v("errors")]),t._v(" property.")]),t._v(" "),a("li",[t._v('For "list" routes, the '),a("code",[t._v("data")]),t._v(" property must be populated an array of zero or more of the requested resource objects.")]),t._v(" "),a("li",[t._v('For "retrieve" routes, the '),a("code",[t._v("data")]),t._v(" property must be populated with a single resource object.")]),t._v(" "),a("li",[t._v("If the requested single resource, or sub-resource (embedded document) does not exist, a 404 error response should be sent.")]),t._v(" "),a("li",[t._v("Error responses will conform to the JSON:API standard.")])]),t._v(" "),a("h4",{attrs:{id:"example-data-response"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#example-data-response"}},[t._v("#")]),t._v(" Example Data Response")]),t._v(" "),a("p",[t._v("GET /auth/users/me")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"data"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"firstName"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Yo-Yo"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"lastName"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Ma"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"email"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"me@yoyoma.com"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h4",{attrs:{id:"example-errors-response"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#example-errors-response"}},[t._v("#")]),t._v(" Example Errors Response")]),t._v(" "),a("p",[t._v("POST /auth/users")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"errors"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"status"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Bad Request"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"code"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"400"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"title"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Validation Error"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"detail"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"minnie.mouse@disney is not a valid email address."')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"source"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"pointer"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/data/attributes/email"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h2",{attrs:{id:"auth-routes"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-routes"}},[t._v("#")]),t._v(" Auth Routes")]),t._v(" "),a("p",[t._v("The user management actions will be exposed separately from the main API routes and will use the "),a("code",[t._v("/auth")]),t._v(" route prefix.")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[t._v("Action")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("Method")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("Resource Path")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("Example Request Payload")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("Register User")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("POST")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("/auth/users")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("{ "),a("br"),t._v('  "firstName": "Yo-Yo", '),a("br"),t._v('  "lastName": "Ma", '),a("br"),t._v('  "email": "me@yo-yoma.com", '),a("br"),t._v('  "password": "myPassword"'),a("br"),t._v("}")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("Get Logged-in User")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("GET")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("/auth/users/me")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}})]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("Update Password")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("PATCH")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("/auth/users/me")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v('{ "password": "newPassword" }')])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("Login User")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("POST")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("/auth/tokens")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("{ "),a("br"),t._v('  "email": "me@yo-yoma.com", '),a("br"),t._v('  "password": "myPassword"'),a("br"),t._v("}")])])])]),t._v(" "),a("h2",{attrs:{id:"api-routes"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#api-routes"}},[t._v("#")]),t._v(" API Routes")]),t._v(" "),a("p",[t._v("The primary application capabilities will be grouped under the "),a("code",[t._v("/api")]),t._v(" resource route prefix. Some routes will be unrestricted, while others will be limited to authorized users. Access to routes relating to creating, updating or deleting gift ideas for a particular Person object will be limited to authenticated users who are either the "),a("code",[t._v("owner")]),t._v(" or in the "),a("code",[t._v("sharedWith")]),t._v(" list for that Person. Deleting a Person object will be restricted exclusively to its "),a("code",[t._v("owner")]),t._v(".")]),t._v(" "),a("p",[t._v("The client application must send a valid JWT in the "),a("code",[t._v("Authorization")]),t._v(" header property for all "),a("code",[t._v("/api")]),t._v(" routes.")]),t._v(" "),a("h3",{attrs:{id:"person-routes"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#person-routes"}},[t._v("#")]),t._v(" Person Routes")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[t._v("Action")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("Method")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("Resource Path")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("Notes")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("List all people")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("GET")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("/api/people")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Gift ideas not populated")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("Get details for a person")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("GET")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("/api/people/:id")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Gift ideas fully populated")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("Create a person")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("POST")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("/api/people")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}})]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("Replace a person")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("PUT")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("/api/people/:id")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}})]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("Update a person")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("PATCH")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("/api/people/:id")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}})]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("Remove a person")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("DELETE")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("/api/people/:id")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Only the owner")])])])]),t._v(" "),a("p",[t._v("Users should only see and be able to act on their own people.")]),t._v(" "),a("p",[t._v("All gift ideas for a given person should be returned as an array of embedded documents with the requested Person object.")]),t._v(" "),a("h3",{attrs:{id:"gift-routes"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#gift-routes"}},[t._v("#")]),t._v(" Gift Routes")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[t._v("Action")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("Method")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("Resource Path")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("Notes")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("Create a gift")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("POST")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("/api/people/:id/gifts")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}})]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("Update a gift")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("PATCH")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("/api/people/:id/gifts/:giftId")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}})]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("Remove a gift")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("DELETE")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("/api/people/:id/gifts/:giftId")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}})])])]),t._v(" "),a("p",[t._v("Users should only see and be able to act on gifts associated to their people.")]),t._v(" "),a("h2",{attrs:{id:"resource-schema"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#resource-schema"}},[t._v("#")]),t._v(" Resource Schema")]),t._v(" "),a("p",[t._v("There are three required model classes. Their schema requirements are listed below.")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("Remember")]),t._v(" "),a("p",[t._v("Mongoose will automatically create the "),a("code",[t._v("_id")]),t._v(" property for all objects.")])]),t._v(" "),a("h3",{attrs:{id:"person"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#person"}},[t._v("#")]),t._v(" Person")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[t._v("Property")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("Type")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("Required")]),t._v(" "),a("th",{staticStyle:{"text-align":"right"}},[t._v("Max (length/value)")]),t._v(" "),a("th",{staticStyle:{"text-align":"right"}},[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("name")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("String")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("true")]),t._v(" "),a("td",{staticStyle:{"text-align":"right"}},[t._v("254")]),t._v(" "),a("td",{staticStyle:{"text-align":"right"}})]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("birthDate")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Date")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("true")]),t._v(" "),a("td",{staticStyle:{"text-align":"right"}}),t._v(" "),a("td",{staticStyle:{"text-align":"right"}})]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("owner")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("ObjectId, ref: 'User'")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("true")]),t._v(" "),a("td",{staticStyle:{"text-align":"right"}}),t._v(" "),a("td",{staticStyle:{"text-align":"right"}},[t._v("Current user")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("sharedWith")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("[ ObjectId, ref: 'User' ]")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}}),t._v(" "),a("td",{staticStyle:{"text-align":"right"}}),t._v(" "),a("td",{staticStyle:{"text-align":"right"}})]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("gifts")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("[ Gift ]")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}}),t._v(" "),a("td",{staticStyle:{"text-align":"right"}}),t._v(" "),a("td",{staticStyle:{"text-align":"right"}})]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("imageUrl")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("String")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}}),t._v(" "),a("td",{staticStyle:{"text-align":"right"}},[t._v("1024")]),t._v(" "),a("td",{staticStyle:{"text-align":"right"}})]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("createdAt")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Date")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}}),t._v(" "),a("td",{staticStyle:{"text-align":"right"}}),t._v(" "),a("td",{staticStyle:{"text-align":"right"}},[t._v("Date.now()")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("updatedAt")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Date")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}}),t._v(" "),a("td",{staticStyle:{"text-align":"right"}}),t._v(" "),a("td",{staticStyle:{"text-align":"right"}},[t._v("Date.now()")])])])]),t._v(" "),a("p",[t._v("The "),a("code",[t._v("createdAt")]),t._v(" and "),a("code",[t._v("updatedAt")]),t._v(" properties should be "),a("a",{attrs:{href:"https://mongoosejs.com/docs/guide.html#timestamps",target:"_blank",rel:"noopener noreferrer"}},[t._v("set automatically by the database"),a("OutboundLink")],1),t._v(". Any client supplied data for these two properties should be discarded.")]),t._v(" "),a("p",[t._v("The "),a("code",[t._v("gifts")]),t._v(" property takes an array of zero or more Gift "),a("a",{attrs:{href:"https://mongoosejs.com/docs/subdocs.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("sub-documents"),a("OutboundLink")],1),t._v("."),a("br"),t._v("\nThe "),a("code",[t._v("sharedWith")]),t._v(" property takes an array of zero or more User IDs."),a("br"),t._v("\nThe "),a("code",[t._v("owner")]),t._v(" property takes a single User ID.")]),t._v(" "),a("h3",{attrs:{id:"gift"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#gift"}},[t._v("#")]),t._v(" Gift")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[t._v("Property")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("Type")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("Required")]),t._v(" "),a("th",{staticStyle:{"text-align":"right"}},[t._v("Min")]),t._v(" "),a("th",{staticStyle:{"text-align":"right"}},[t._v("Max")]),t._v(" "),a("th",{staticStyle:{"text-align":"right"}},[t._v("Default")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("name")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("String")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("true")]),t._v(" "),a("td",{staticStyle:{"text-align":"right"}},[t._v("4")]),t._v(" "),a("td",{staticStyle:{"text-align":"right"}},[t._v("64")]),t._v(" "),a("td",{staticStyle:{"text-align":"right"}})]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("price")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Number (integer in cents)")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}}),t._v(" "),a("td",{staticStyle:{"text-align":"right"}},[t._v("100")]),t._v(" "),a("td",{staticStyle:{"text-align":"right"}}),t._v(" "),a("td",{staticStyle:{"text-align":"right"}},[t._v("1000")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("imageUrl")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("String")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}}),t._v(" "),a("td",{staticStyle:{"text-align":"right"}},[t._v("1024")]),t._v(" "),a("td",{staticStyle:{"text-align":"right"}}),t._v(" "),a("td",{staticStyle:{"text-align":"right"}})]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("store")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Object")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}}),t._v(" "),a("td",{staticStyle:{"text-align":"right"}}),t._v(" "),a("td",{staticStyle:{"text-align":"right"}}),t._v(" "),a("td",{staticStyle:{"text-align":"right"}})]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("store.name")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("String")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}}),t._v(" "),a("td",{staticStyle:{"text-align":"right"}}),t._v(" "),a("td",{staticStyle:{"text-align":"right"}},[t._v("254")]),t._v(" "),a("td",{staticStyle:{"text-align":"right"}})]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("store.productURL")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("String")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}}),t._v(" "),a("td",{staticStyle:{"text-align":"right"}}),t._v(" "),a("td",{staticStyle:{"text-align":"right"}},[t._v("1024")]),t._v(" "),a("td",{staticStyle:{"text-align":"right"}})])])]),t._v(" "),a("h3",{attrs:{id:"user"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#user"}},[t._v("#")]),t._v(" User")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[t._v("Property")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("Type")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("Required")]),t._v(" "),a("th",{staticStyle:{"text-align":"right"}},[t._v("Max Length")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("Default")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("Unique")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("firstName")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("String")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("true")]),t._v(" "),a("td",{staticStyle:{"text-align":"right"}},[t._v("64")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}}),t._v(" "),a("td",{staticStyle:{"text-align":"left"}})]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("lastName")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("String")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("true")]),t._v(" "),a("td",{staticStyle:{"text-align":"right"}},[t._v("64")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}}),t._v(" "),a("td",{staticStyle:{"text-align":"left"}})]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("email")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("String")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("true")]),t._v(" "),a("td",{staticStyle:{"text-align":"right"}},[t._v("512")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}}),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("true")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("password")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("String")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("true")]),t._v(" "),a("td",{staticStyle:{"text-align":"right"}},[t._v("70")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}}),t._v(" "),a("td",{staticStyle:{"text-align":"left"}})])])]),t._v(" "),a("p",[t._v("The "),a("code",[t._v("email")]),t._v(" property must be a correctly formatted email, and must be unique in the database. This check should be done with a custom schema validator function.")]),t._v(" "),a("p",[t._v("The "),a("code",[t._v("password")]),t._v(" property must be encrypted using the "),a("code",[t._v("bcrypt")]),t._v(" library. This should be done in a "),a("code",[t._v("schema.pre('save')")]),t._v(" method. The "),a("code",[t._v("password")]),t._v(" property should always be redacted from response data and never returned to the client.")]),t._v(" "),a("h2",{attrs:{id:"logistics"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#logistics"}},[t._v("#")]),t._v(" Logistics")]),t._v(" "),a("ul",[a("li",[t._v("Create a new "),a("strong",[t._v("private")]),t._v(" GitHub repository called "),a("strong",[t._v("mad9124-w21-p1-giftr")]),t._v(", and import this "),a("a",{attrs:{href:"https://github.com/MAD9124/mad9124-w21-p1-giftr",target:"_blank",rel:"noopener noreferrer"}},[t._v("GitHub starter repo"),a("OutboundLink")],1),t._v(" for the initial project structure.")]),t._v(" "),a("li",[t._v("Invite your professor ("),a("em",[t._v("rlmckenney")]),t._v(") as a collaborator on your repo.")]),t._v(" "),a("li",[t._v("Clone the repo to your laptop.")]),t._v(" "),a("li",[t._v("Update the "),a("code",[t._v("package.json")]),t._v(" with your author info.")]),t._v(" "),a("li",[t._v("Install dependencies with NPM.")]),t._v(" "),a("li",[t._v("Build the project on your laptop.")]),t._v(" "),a("li",[t._v("Test each route with Postman, making sure to test "),a("em",[t._v("both")]),t._v(" valid and invalid data.")]),t._v(" "),a("li",[t._v("Make git commits as you complete each requirement.")]),t._v(" "),a("li",[t._v("When everything is complete, push the final commit back up to GitHub")]),t._v(" "),a("li",[t._v("Deploy your application containers to AWS Fargate with an Application Load Balancer")]),t._v(" "),a("li",[t._v("Submit "),a("strong",[t._v("both")]),t._v(" URLs on Brightspace: the GitHub code repo URL and the URL to your AWS application.")])]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("Remember")]),t._v(" "),a("p",[t._v("Pay attention to clean code practices.")])])])}),[],!1,null,null,null);e.default=i.exports}}]);